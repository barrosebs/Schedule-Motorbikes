@using SM.Domain.Model;
@model IEnumerable<DeliveryPersonVM>
@{
    ViewBag.Subtitulo = "Listar Entregador";
}
<partial name="_MensagemPartial" />

<header class="d-flex justify-content-between align-items-center bg-blue-100 px-3 mt-3">
    <div>
        <h1>
            @ViewBag.Subtitulo
        </h1>
    </div>
    <div>
        <a asp-action="Create" class="btn btn-primary">
            Cadastre Entregador
            <svg xmlns="http://www.w3.org/2000/svg" width="2rem" height="2rem" viewBox="0 0 24 24"><path fill="currentColor" d="M14 18q2.5 0 4.25-1.75T20 12q0-2.525-1.838-4.262T13.75 6q-1.45 0-2.72.352q-1.269.352-2.434 1.056l2.962 1.153q.87.368 1.406 1.14T13.5 11.4q0 1.308-.893 2.204t-2.157.896H4.204q-.108.523-.156 1.18T4 17.385V18zm-9.638-4.5H10.4q.887 0 1.493-.607T12.5 11.4q0-.629-.349-1.141t-.959-.77L7.646 8.065q-1.204 1.023-2.036 2.4q-.835 1.375-1.248 3.035M14 19H3v-2.366q0-2.565.79-4.702t2.215-3.677t3.4-2.397T13.75 5q1.489 0 2.806.548t2.307 1.492q.99.943 1.564 2.22Q21 10.537 21 12q0 1.439-.548 2.718q-.548 1.28-1.501 2.233t-2.223 1.501T14 19" /></svg>
            </a>
    </div>
</header>
<main>
    @if (Model.Count() > 0)
    {
        <p>Listar todos os entregadores cadastrados</p>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th scope="col">Nome</th>
                    <th scope="col">CNPJ</th>
                    <th scope="col">CNH</th>
                    <th scope="col">Categoria</th>
                    <th scope="col">Data de Criação</th>
                    <th scope="col">Ações</th>
                </tr>
            </thead>
            <tbody hx-target="closest tr" hx-swap="outerHTML swap:1s">
                @foreach (var item in Model)
                {
                    <tr>
                        <td>@item.FullName</td>
                        <td class="cnpj-mask">@item.NumberCNPJ</td>
                        <td>@item.NumberCNH</td>
                        <td>@item.TypeCNH</td>
                        <td>@item.DateCreated.ToString("dd/MM/yyyy")</td>
                        <td>
                            <a hx-post="Update/@item.Id" class="btn btn-sm btn-primary">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"><path d="M7 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-1" /><path d="M20.385 6.585a2.1 2.1 0 0 0-2.97-2.97L9 12v3h3zM16 5l3 3" /></g></svg>

                            </a>
                            <a asp-action="Delete" asp-route-id="@item.Id" data-method="delete" class="btn btn-sm btn-danger">
                                <svg xmlns="http://www.w3.org/2000/svg" width="1rem" height="1rem" viewBox="0 0 26 26"><g fill="currentColor"><path d="M11.5 17.999a.5.5 0 1 1-1 0v-6a.5.5 0 0 1 1 0zm2 0a.5.5 0 1 1-1 0v-6a.5.5 0 0 1 1 0zm2 0a.5.5 0 1 1-1 0v-6a.5.5 0 0 1 1 0zm-1-10.5h-3a1.501 1.501 0 0 1 3-.001z" /><path d="M7.5 7.999a.5.5 0 1 1 0-1h11a.5.5 0 0 1 0 1z" /><path fill-rule="evenodd" d="M17.5 8.5h-9A.5.5 0 0 0 8 9v11a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5V9a.5.5 0 0 0-.5-.5M9 19.5v-10h8v10z" clip-rule="evenodd" /><path fill-rule="evenodd" d="M13 24.5c6.351 0 11.5-5.149 11.5-11.5S19.351 1.5 13 1.5S1.5 6.649 1.5 13S6.649 24.5 13 24.5m0 1c6.904 0 12.5-5.596 12.5-12.5S19.904.5 13 .5S.5 6.096.5 13S6.096 25.5 13 25.5" clip-rule="evenodd" /></g></svg>
                            </a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    }
    else
    {
        <p>Não há nenhum entregador cadastrado.</p>
    }
</main>
